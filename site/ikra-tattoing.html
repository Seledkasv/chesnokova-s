<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../normalize.css">
    <link rel="stylesheet" href="../stylesheet.css">
    <link rel="stylesheet" href="../media.css">
    <link rel="shortcut icon" href="../img/favicon.jpg" type="image/x-icon">
    <title>Ikra-tattoing</title>
</head>

<body>
    <header>
        <a href="../index.html" class="home_button">
            <svg fill="#8B008B" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
                width="32px" height="32px" viewBox="0 0 495.398 495.398"
                xml:space="preserve">
                <g>
                    <g>
                        <g>
                            <path d="M487.083,225.514l-75.08-75.08V63.704c0-15.682-12.708-28.391-28.413-28.391c-15.669,0-28.377,12.709-28.377,28.391
                                v29.941L299.31,37.74c-27.639-27.624-75.694-27.575-103.27,0.05L8.312,225.514c-11.082,11.104-11.082,29.071,0,40.158
                                c11.087,11.101,29.089,11.101,40.172,0l187.71-187.729c6.115-6.083,16.893-6.083,22.976-0.018l187.742,187.747
                                c5.567,5.551,12.825,8.312,20.081,8.312c7.271,0,14.541-2.764,20.091-8.312C498.17,254.586,498.17,236.619,487.083,225.514z"/>
                            <path d="M257.561,131.836c-5.454-5.451-14.285-5.451-19.723,0L72.712,296.913c-2.607,2.606-4.085,6.164-4.085,9.877v120.401
                                c0,28.253,22.908,51.16,51.16,51.16h81.754v-126.61h92.299v126.61h81.755c28.251,0,51.159-22.907,51.159-51.159V306.79
                                c0-3.713-1.465-7.271-4.085-9.877L257.561,131.836z"/>
                        </g>
                    </g>
                </g>
            </svg>
        </a>

        <div>
            <button onclick="changeLanguage('en')" class="button_lang">ENG</button>
            <button onclick="changeLanguage('ru')" class="button_lang">RU</button>
        </div>  
    </header>

    <section class="section-block">
        <div id="content"></div>

        <div class="gallery">
            <img src="../img/sites/ikra/ikra_01.jpg" alt="Ikra-tattoing 1">
            <img src="../img/sites/ikra/ikra_02.jpg" alt="Ikra-tattoing 2">
            <img src="../img/sites/ikra/ikra_03.jpg" alt="Ikra-tattoing 3">
            <img src="../img/sites/ikra/ikra_04.jpg" alt="Ikra-tattoing 4">
        </div>

        <div id="link_portfolio"></div>

          <!-- Modal -->
        <div class="modal" id="modal">
            <div class="modal-content">
            <button class="close" id="close">&times;</button>
            <button class="prev" id="prev">&#10094;</button>
            <img id="modalImage" src="" alt="Modal Image">
            <button class="next" id="next">&#10095;</button>
            </div>
        </div>
    </section>

    <footer id="footer">
    </footer>
   
    <script>
        // MODAL
        const images = document.querySelectorAll('.gallery img');
        const modal = document.getElementById('modal');
        const modalImage = document.getElementById('modalImage');
        const closeBtn = document.getElementById('close');
        const prevBtn = document.getElementById('prev');
        const nextBtn = document.getElementById('next');
        
        let currentIndex = 0;

        // Open modal
        images.forEach((image, index) => {
            image.addEventListener('click', () => {
            currentIndex = index;
            showModal();
            });
        });

        // Show modal
        function showModal() {
            modal.style.display = 'flex';
            modalImage.src = images[currentIndex].src;
        }

        // Close modal
        closeBtn.addEventListener('click', () => {
            modal.style.display = 'none';
        });

        // Show next image
        nextBtn.addEventListener('click', () => {
            currentIndex = (currentIndex + 1) % images.length;
            showModal();
        });

        // Show previous image
        prevBtn.addEventListener('click', () => {
            currentIndex = (currentIndex - 1 + images.length) % images.length;
            showModal();
        });

        // Close modal when clicking outside the image
        modal.addEventListener('click', (e) => {
            if (e.target === modal) {
            modal.style.display = 'none';
            }
        });




        // Translation data
        const translations = {
            en: {
                content: `
                    <h2>Business card website for a tattoo artist</h2>
                    <a href="https://seledkasv.github.io/ikra_tattoing/" target="_blank">ikra_tattoing</a>
                    <p>Business card website with portfolio.</p>`,

                link_portfolio: `
                    <a href="../index.html#content_porfolio" class="hover_white">&#8920; Back to portfolio</a>`,
                
                footer: `
                    <div class="footer__content">
                        <a href="https://github.com/Seledkasv/chesnokova-s" class="social git_footer hover_white" target="_blank"><br>View source code</a>
                        <br>
                        <br>
                        <p>2022-2024</p>
                    </div>`
            },

            ru: {
                content: `
                    <h2>Сайт-визитка для тату-мастера</h2>
                    <a href="https://seledkasv.github.io/ikra_tattoing/" target="_blank">ikra_tattoing</a>
                    <p>Сайт-визитка с портфолио.</p>`,

                link_portfolio: `
                    <a href="../index.html#content_porfolio" class="hover_white">&#8920; Вернуться к портфолио</a>`,

                footer: `
                    <div class="footer__content">
                        <a href="https://github.com/Seledkasv/chesnokova-s" class="social git_footer hover_white" target="_blank"><br>Посмотреть исходный код</a>
                        <br>
                        <br>
                        <p>2022-2024 г.</p>
                    </div>`
            }
        };

        // Function to get the 'lang' parameter from the URL
        function getQueryParam(param) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(param);
        }

        // Function to switch the page content based on language
        function switchLanguage(lang) {
            const content = translations[lang] || translations.en; // Default to English if language is not found
            document.getElementById('content').innerHTML = content.content; // Use innerHTML for HTML content
            document.getElementById('link_portfolio').innerHTML = content.link_portfolio;
            document.getElementById('footer').innerHTML = content.footer;

            // Update the `lang` attribute in the HTML tag
            document.documentElement.lang = lang;

            // Update all internal links to include the `lang` parameter
            const links = document.querySelectorAll('a'); // Select all anchor tags
            links.forEach(link => {
                const url = new URL(link.href, window.location.origin);
                url.searchParams.set('lang', lang); // Add or update the `lang` parameter
                link.href = url.toString(); // Update the href attribute
            });
        }

        // Function to change the language dynamically and update the URL
        function changeLanguage(lang) {
            // Update the URL without reloading the page
            const url = new URL(window.location.href);
            url.searchParams.set('lang', lang);
            window.history.replaceState({}, '', url);

            // Apply the new language
            switchLanguage(lang);
        }

        // Detect the language from the URL and apply it
        const languageFromURL = getQueryParam('lang') || 'en'; // Default to English if no 'lang' parameter is found
        switchLanguage(languageFromURL);
    </script>
</body>
</html>
